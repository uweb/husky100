function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function falseScroll(){$(window).scrollTop($(window).scrollTop()+1)}function debounce(e,t){var i;return function(){i&&clearTimeout(i),i=setTimeout(function(){e(),i=null},t||100)}}function getFilterValue(e){var t="",i=!1;return $(".labelToggle.filtered > select").each(function(){".arts-sci-arts, .arts-sci-humanities, .arts-sci-natural-sci, .arts-sci-social-sci, .arts-sci-all-divisions"==$(this).val()?i=!0:t+=$(this).val()}),""!==t?e.addClass("select_active"):$(".filtered > select").prop("selectedIndex",0),filterValueReturn=i?".arts-sci-arts"+t+", .arts-sci-humanities"+t+", .arts-sci-natural-sci"+t+", .arts-sci-social-sci"+t+", .arts-sci-all-divisions"+t:t}function imageSwitch(e){var t=e.find(".flipper .front"),e=e.data("img");t.toggleClass("lazy"),t.css("background-image","url("+e+")")}jQuery(function(a){console.log(_typeof(a.fn.isotope));var s=new LazyLoad({elements_selector:".lazy"});var i,t,e,o=a("#searcher_wrap"),n=a("#searcher"),l=a(window).height(),r=a(window).width(),c=a("#filter"),d=a(".grid").isotope({itemSelector:".grid-item",percentPosition:!0,filter:getFilterValue(c),masonry:{columnWidth:".grid-sizer"}}),u=(d.one("arrangeComplete",function(){a("#overlay").fadeOut(300,function(){a(this).remove()})}),d.isotope(),falseScroll(),a(".quicksearch").keyup(debounce(function(){i=new RegExp(u.val(),"gi");var t=getFilterValue(c)?getFilterValue(c):"*";d.isotope({filter:function(){var e=a(this);return(!i||e.text().match(i))&&e.is(":not(.title-card)")&&e.is(t)}})},200)));function p(e){var t=(l-e.height())/2;$mobile=r<768?50:t,d.one("arrangeComplete",function(){a("html, body").animate({scrollTop:e.offset().top-$mobile},900)})}function f(e){var t=e.find(".full-bio"),e=e.find(".flipper"),i=!1===t.attr("aria-hidden",!1),a=!0!==e.attr("aria-expanded",!0);t.attr("aria-hidden",i),e.attr("aria-expanded",a)}a(".featured").each(function(e,t){imageSwitch(a(t)),s.update()}),d.on("click",".grid-item",function(){var e=a(this),t=e.data("name"),t=t&&"#name="+t;e.hasClass("open")||e.hasClass("special")?(e.removeClass("open"),f(e)):(a(".grid-item").removeClass("open"),e.addClass("open"),imageSwitch(e),p(e),window.location.hash=t,f(e),e.on("keyup",function(e){"Escape"===e.key&&(a(".grid-item").removeClass("open"),history.replaceState(null,document.title,location.pathname+location.search),a(".grid").isotope("layout"))})),d.isotope()}),a("#clear").on("click",function(e){e.preventDefault(),a(".filtered > select").prop("selectedIndex",0),a(".grid-item").removeClass("open"),c.removeClass("select_active"),c.find(".filtered").removeClass("labelToggle"),window.location.hash="",d.isotope({filter:":not(.title-card)"})}),a("select#year-awarded").change(function(e){location=a(this).find(":selected").data("url")}),c.on("change","select",function(){""===this.value?a(this).parent("li").removeClass("labelToggle"):a(this).parent("li").addClass("labelToggle");var t=new RegExp(a(".quicksearch").val(),"gi"),i=getFilterValue(c)?getFilterValue(c):"*";d.isotope({filter:function(){var e=a(this);return(!t||e.text().match(t))&&e.is(":not(.title-card)")&&e.is(i)}}),falseScroll(),s.update()}),c.each(function(e,t){var i=a(t);i.on("click","button",function(){i.find(".is-checked").removeClass("is-checked"),a(this).addClass("is-checked")})}),a("#searcher").on("click",function(e){e.preventDefault(),o.find("input").focus(),o.toggleClass("active_search"),n.hasClass("is-checked")&&(o.find("input").val(""),a(".quicksearch").keyup()),n.toggleClass("is-checked")}),a(document).on("keyup",function(e){27==e.keyCode&&a("#searcher").hasClass("is-checked")&&(o.toggleClass("active_search"),n.toggleClass("is-checked"),o.find("input").val(""))}),a(document).keypress(function(e){13==e.which&&a(e.target).trigger("click")}),a(document).on("click","a.tag",function(e){var t=a(this);$text=t.text(),e.preventDefault(),e.stopPropagation(),c.addClass("select_active"),d.isotope({filter:function(){return!$text||a(this).find(".tags").text().match($text)}}),falseScroll(),s.update()}),location.hash.match(/^#name/)&&(e="?json=husky100.get_recipient&name="+(t=location.hash.substring(6)),a("#"+t).remove(),a.getJSON(e,function(e){0<e.count&&(e=(e=e).posts[0],$personCard=a(_.template('<li tabindex="0" id="<%= slug %>" data-name="<%= slug %>" data-img="<%= img_highres %>" class="flip-container grid-item <%= classes %>"><div class="flipper" role="button" aria-expanded="false"><div class="front lazy" data-src="<%= img %>"></div><div class="back"><p class="back-title"><%= post_title %></p><p class="major"><%= major %></p></div><div tabindex="0" class="full-bio" aria-hidden="true"><h2><%= post_title %><% if (  linkedin )  { %><a target="_blank" class="linkedin" href="<%= linkedin %>">LinkedIn</a><% } %></h2><div class="bio-info"><p><%= hometown %></p><p><%= major %></p><p><%= minor %></p><p class="year-awarded">Year awarded <%= year_awarded %></p></div><div class="bio-text"><p><%= content %></p></div><div class="tags"><% _.each(tags, function(tag) { %><a href="#" class="tag"><%= tag %></a><% }); %></div></div></div></li>')({slug:e.slug,img_highres:e.img_highres,img:e.img,classes:e.classes.join(" "),major:e.major,minor:e.minor,hometown:e.hometown,linkedin:e.linkedin,content:e.content,tags:e.tags,year_awarded:e.year_awarded,post_title:e.post_title})),d.prepend($personCard).isotope("prepended",$personCard),(e=a("#"+t)).addClass("open"),d.isotope({filter:""}),p(e),imageSwitch(e),s.update(),f(e))}).fail(function(e,t,i){console.log("Request Failed: "+(t+", "+i))}))}),"onpropertychange"in document&&window.matchMedia&&$("html").addClass("ie10");