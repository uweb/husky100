function debounce(a,b){var c;return function(){function d(){a(),c=null}c&&clearTimeout(c),c=setTimeout(d,b||100)}}$(window).load(function(){$(function(){function a(a){var b=a;b.find(".front").css("background-image","url("+b.data("img")+")")}var b,c=$("#searcher_wrap"),d=$("#searcher"),e=$(window).height(),f=$(".grid").isotope({itemSelector:".grid-item",percentPosition:!0,masonry:{columnWidth:".grid-sizer"},filter:":not(.title-card)"}),g=$(".quicksearch").keyup(debounce(function(){b=new RegExp(g.val(),"gi"),f.isotope({filter:function(){return b?$(this).text().match(b):!0}})},200));if($(".featured").each(function(b,c){var d=$(c);a(d)}),f.on("click",".grid-item",function(){var b=$(this),c=b.data("name"),d=c&&"#name="+c;if(b.hasClass("open"))b.removeClass("open");else{$(".grid-item").removeClass("open"),b.addClass("open"),a(b);var g=(e-b.height())/2;f.one("arrangeComplete",function(){$("html, body").animate({scrollTop:b.offset().top-g},900)}),window.location.hash=d}f.isotope()}),$("#filter").on("click","button",function(){var a=$(this).attr("data-filter");f.isotope({filter:a})}),$("#filter").each(function(a,b){var c=$(b);c.on("click","button",function(){c.find(".is-checked").removeClass("is-checked"),$(this).addClass("is-checked")})}),$("#searcher").on("click",function(){c.find("input").focus(),c.toggleClass("active_search"),d.hasClass("is-checked")&&(c.find("input").val(""),$(".quicksearch").keyup()),d.toggleClass("is-checked")}),$(document).on("keyup",function(a){27==a.keyCode&&$("#searcher").hasClass("is-checked")&&(c.toggleClass("active_search"),d.toggleClass("is-checked"),c.find("input").val(""))}),location.hash.match(/^#name/)){var h=location.hash.substring(6),i=$('*[data-name="'+h+'"]');i.toggleClass("open"),f.isotope("layout"),a(i)}$(".tags").on("click","a",function(a){var b=$(this),c=a;$text=b.text(),c.preventDefault(),c.stopPropagation(),f.isotope({filter:function(){return $text?$(this).find(".tags").text().match($text):!0}})})})});