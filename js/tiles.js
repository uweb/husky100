function falseScroll(){$(window).scrollTop($(window).scrollTop()+1)}function debounce(e,a){var t;return function(){t&&clearTimeout(t),t=setTimeout(function(){e(),t=null},a||100)}}function getFilterValue(e){var a="",t=!1;return e.addClass("select_active"),$(".labelToggle > select").each(function(){".arts-sci-arts, .arts-sci-humanities, .arts-sci-natural-sci, .arts-sci-social-sci, .arts-sci-all-divisions"==$(this).val()?t=!0:a+=$(this).val()}),filterValueReturn=t?".arts-sci-arts"+a+", .arts-sci-humanities"+a+", .arts-sci-natural-sci"+a+", .arts-sci-social-sci"+a+", .arts-sci-all-divisions"+a:a,filterValueReturn}function imageSwitch(e){var a=e,t=a.find(".flipper .front"),i=a.data("img");t.toggleClass("lazy"),t.css("background-image","url("+i+")")}$(window).load(function(){var i=new LazyLoad({elements_selector:".lazy"});var t,a=$("#searcher_wrap"),s=$("#searcher"),n=$(window).height(),l=$(window).width(),o=$("#filter"),r=$(".grid").isotope({itemSelector:".grid-item",percentPosition:!0,filter:getFilterValue(o),masonry:{columnWidth:".grid-sizer"}});r.one("arrangeComplete",function(){$("#overlay").fadeOut(300,function(){$(this).remove()})}),r.isotope(),falseScroll();var c,e,d=$(".quicksearch").keyup(debounce(function(){t=new RegExp(d.val(),"gi");var a=getFilterValue(o)?getFilterValue(o):"*";r.isotope({filter:function(){var e=$(this);return(!t||e.text().match(t))&&e.is(":not(.title-card)")&&e.is(a)}})},200));function u(e){var a=(n-e.height())/2;$mobile=l<768?50:a,r.one("arrangeComplete",function(){$("html, body").animate({scrollTop:e.offset().top-$mobile},900)})}function h(e){var a=e.find(".full-bio"),t=e.find(".flipper"),i=!1===a.attr("aria-hidden",!1),s=!0!==t.attr("aria-expanded",!0);a.attr("aria-hidden",i),t.attr("aria-expanded",s)}$(".featured").each(function(e,a){imageSwitch($(a)),i.update()}),r.on("click",".grid-item",function(){var e=$(this),a=e.data("name"),t=a&&"#name="+a;e.hasClass("open")||e.hasClass("special")?e.removeClass("open"):($(".grid-item").removeClass("open"),e.addClass("open"),imageSwitch(e),u(e),window.location.hash=t),h(e),r.isotope()}),$("#clear").on("click",function(e){e.preventDefault(),$("select").prop("selectedIndex",0),$(".grid-item").removeClass("open"),o.removeClass("select_active"),o.find("li").removeClass("labelToggle"),window.location.hash="",r.isotope({filter:":not(.title-card)"})}),$("select#year-awarded").change(function(e){location=$(this).find(":selected").data("url")}),o.on("change","select",function(){""===this.value?$(this).parent("li").removeClass("labelToggle"):$(this).parent("li").addClass("labelToggle");var a=new RegExp($(".quicksearch").val(),"gi"),t=getFilterValue(o)?getFilterValue(o):"*";r.isotope({filter:function(){var e=$(this);return(!a||e.text().match(a))&&e.is(":not(.title-card)")&&e.is(t)}}),falseScroll(),i.update()}),o.each(function(e,a){var t=$(a);t.on("click","button",function(){t.find(".is-checked").removeClass("is-checked"),$(this).addClass("is-checked")})}),$("#searcher").on("click",function(e){e.preventDefault(),a.find("input").focus(),a.toggleClass("active_search"),s.hasClass("is-checked")&&(a.find("input").val(""),$(".quicksearch").keyup()),s.toggleClass("is-checked")}),$(document).on("keyup",function(e){27==e.keyCode&&$("#searcher").hasClass("is-checked")&&(a.toggleClass("active_search"),s.toggleClass("is-checked"),a.find("input").val(""))}),$(document).keypress(function(e){13==e.which&&$(e.target).trigger("click")}),$(document).on("click","a.tag",function(e){var a=$(this),t=e;$text=a.text(),t.preventDefault(),t.stopPropagation(),o.addClass("select_active"),r.isotope({filter:function(){return!$text||$(this).find(".tags").text().match($text)}}),falseScroll(),i.update()}),location.hash.match(/^#name/)&&(e="?json=husky100.get_recipient&name="+(c=location.hash.substring(6)),$("#"+c).remove(),$.getJSON(e,function(e){var a,t;0<e.count&&(t=e.posts[0],$personCard=$(_.template('<li tabindex="0" id="<%= slug %>" data-name="<%= slug %>" data-img="<%= img_highres %>" class="flip-container grid-item <%= classes %>"><div class="flipper" role="button" aria-expanded="false"><div class="front lazy" data-src="<%= img %>"></div><div class="back"><p class="back-title"><%= post_title %></p><p class="major"><%= major %></p></div><div tabindex="0" class="full-bio" aria-hidden="true"><h2><%= post_title %><% if (  linkedin )  { %><a target="_blank" class="linkedin" href="<%= linkedin %>">LinkedIn</a><% } %></h2><div class="bio-info"><p><%= hometown %></p><p><%= major %></p><p><%= minor %></p><p class="year-awarded">Year awarded <%= year_awarded %></p></div><div class="bio-text"><p><%= content %></p></div><div class="tags"><% _.each(tags, function(tag) { %><a href="#" class="tag"><%= tag %></a><% }); %></div></div></div></li>')({slug:t.slug,img_highres:t.img_highres,img:t.img,classes:t.classes.join(" "),major:t.major,minor:t.minor,hometown:t.hometown,linkedin:t.linkedin,content:t.content,tags:t.tags,year_awarded:t.year_awarded,post_title:t.post_title})),r.prepend($personCard).isotope("prepended",$personCard),(a=$("#"+c)).addClass("open"),r.isotope({filter:""}),u(a),imageSwitch(a),i.update(),h(a))}).fail(function(e,a,t){var i=a+", "+t;console.log("Request Failed: "+i)}))}),"onpropertychange"in document&&window.matchMedia&&$("html").addClass("ie10");