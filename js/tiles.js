function falseScroll(){$(window).scrollTop($(window).scrollTop()+1)}function debounce(e,t){var a;return function(){a&&clearTimeout(a),a=setTimeout(function(){e(),a=null},t||100)}}function getFilterValue(e){var t="",a=!1;return $(".labelToggle.filtered > select").each(function(){".arts-sci-arts, .arts-sci-humanities, .arts-sci-natural-sci, .arts-sci-social-sci, .arts-sci-all-divisions"==$(this).val()?a=!0:t+=$(this).val()}),""!==t?e.addClass("select_active"):$(".filtered > select").prop("selectedIndex",0),filterValueReturn=a?".arts-sci-arts"+t+", .arts-sci-humanities"+t+", .arts-sci-natural-sci"+t+", .arts-sci-social-sci"+t+", .arts-sci-all-divisions"+t:t,filterValueReturn}function imageSwitch(e){var t=e,a=t.find(".flipper .front"),i=t.data("img");a.toggleClass("lazy"),a.css("background-image","url("+i+")")}$(window).load(function(){var i=new LazyLoad({elements_selector:".lazy"});var a,t=$("#searcher_wrap"),s=$("#searcher"),n=$(window).height(),l=$(window).width(),o=$("#filter"),r=$(".grid").isotope({itemSelector:".grid-item",percentPosition:!0,filter:getFilterValue(o),masonry:{columnWidth:".grid-sizer"}});r.one("arrangeComplete",function(){$("#overlay").fadeOut(300,function(){$(this).remove()})}),r.isotope(),falseScroll();var c,e,d=$(".quicksearch").keyup(debounce(function(){a=new RegExp(d.val(),"gi");var t=getFilterValue(o)?getFilterValue(o):"*";r.isotope({filter:function(){var e=$(this);return(!a||e.text().match(a))&&e.is(":not(.title-card)")&&e.is(t)}})},200));function u(e){var t=(n-e.height())/2;$mobile=l<768?50:t,r.one("arrangeComplete",function(){$("html, body").animate({scrollTop:e.offset().top-$mobile},900)})}function p(e){var t=e.find(".full-bio"),a=e.find(".flipper"),i=!1===t.attr("aria-hidden",!1),s=!0!==a.attr("aria-expanded",!0);t.attr("aria-hidden",i),a.attr("aria-expanded",s)}$(".featured").each(function(e,t){imageSwitch($(t)),i.update()}),r.on("click",".grid-item",function(){var e=$(this),t=e.data("name"),a=t&&"#name="+t;e.hasClass("open")||e.hasClass("special")?e.removeClass("open"):($(".grid-item").removeClass("open"),e.addClass("open"),imageSwitch(e),u(e),window.location.hash=a),p(e),r.isotope()}),$("#clear").on("click",function(e){e.preventDefault(),$(".filtered > select").prop("selectedIndex",0),$(".grid-item").removeClass("open"),o.removeClass("select_active"),o.find(".filtered").removeClass("labelToggle"),window.location.hash="",r.isotope({filter:":not(.title-card)"})}),$("select#year-awarded").change(function(e){location=$(this).find(":selected").data("url")}),o.on("change","select",function(){""===this.value?$(this).parent("li").removeClass("labelToggle"):$(this).parent("li").addClass("labelToggle");var t=new RegExp($(".quicksearch").val(),"gi"),a=getFilterValue(o)?getFilterValue(o):"*";r.isotope({filter:function(){var e=$(this);return(!t||e.text().match(t))&&e.is(":not(.title-card)")&&e.is(a)}}),falseScroll(),i.update()}),o.each(function(e,t){var a=$(t);a.on("click","button",function(){a.find(".is-checked").removeClass("is-checked"),$(this).addClass("is-checked")})}),$("#searcher").on("click",function(e){e.preventDefault(),t.find("input").focus(),t.toggleClass("active_search"),s.hasClass("is-checked")&&(t.find("input").val(""),$(".quicksearch").keyup()),s.toggleClass("is-checked")}),$(document).on("keyup",function(e){27==e.keyCode&&$("#searcher").hasClass("is-checked")&&(t.toggleClass("active_search"),s.toggleClass("is-checked"),t.find("input").val(""))}),$(document).keypress(function(e){13==e.which&&$(e.target).trigger("click")}),$(document).on("click","a.tag",function(e){var t=$(this),a=e;$text=t.text(),a.preventDefault(),a.stopPropagation(),o.addClass("select_active"),r.isotope({filter:function(){return!$text||$(this).find(".tags").text().match($text)}}),falseScroll(),i.update()}),location.hash.match(/^#name/)&&(e="?json=husky100.get_recipient&name="+(c=location.hash.substring(6)),$("#"+c).remove(),$.getJSON(e,function(e){var t,a;0<e.count&&(a=e.posts[0],$personCard=$(_.template('<li tabindex="0" id="<%= slug %>" data-name="<%= slug %>" data-img="<%= img_highres %>" class="flip-container grid-item <%= classes %>"><div class="flipper" role="button" aria-expanded="false"><div class="front lazy" data-src="<%= img %>"></div><div class="back"><p class="back-title"><%= post_title %></p><p class="major"><%= major %></p></div><div tabindex="0" class="full-bio" aria-hidden="true"><h2><%= post_title %><% if (  linkedin )  { %><a target="_blank" class="linkedin" href="<%= linkedin %>">LinkedIn</a><% } %></h2><div class="bio-info"><p><%= hometown %></p><p><%= major %></p><p><%= minor %></p><p class="year-awarded">Year awarded <%= year_awarded %></p></div><div class="bio-text"><p><%= content %></p></div><div class="tags"><% _.each(tags, function(tag) { %><a href="#" class="tag"><%= tag %></a><% }); %></div></div></div></li>')({slug:a.slug,img_highres:a.img_highres,img:a.img,classes:a.classes.join(" "),major:a.major,minor:a.minor,hometown:a.hometown,linkedin:a.linkedin,content:a.content,tags:a.tags,year_awarded:a.year_awarded,post_title:a.post_title})),r.prepend($personCard).isotope("prepended",$personCard),(t=$("#"+c)).addClass("open"),r.isotope({filter:""}),u(t),imageSwitch(t),i.update(),p(t))}).fail(function(e,t,a){var i=t+", "+a;console.log("Request Failed: "+i)}))}),"onpropertychange"in document&&window.matchMedia&&$("html").addClass("ie10");